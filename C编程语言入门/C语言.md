# 第二章
1. 申明变量有什么好处？答案见2.2

把所有的变量放在一处， 方便读者查找和理解程序的用途。 如果变量名
都是有意义的（ 如， taxtate而不是 r） ， 这样做效果很好。 如果变量名无法
表述清楚， 在注释中解释变量的含义。 这种方法让程序的可读性更高。

声明变量会促使你在编写程序之前做一些计划。 程序在开始时要获得哪
些信息？ 希望程序如何输出？ 表示数据最好的方式是什么？

声明变量有助于发现隐藏在程序中的小错误， 如变量名拼写错误。 例
如， 假设在某些不需要声明就可以直接使用变量的语言中， 编写如下语句：
RADIUS1 = 20.4;
在后面的程序中， 误写成：
CIRCUM = 6.28 * RADIUSl;
你不小心把数字1打成小写字母l。 这些语言会创建一个新的变量
RADIUSl， 并使用该变量中的值（ 也许是0， 也许是垃圾值） ， 导致赋给
CIRCUM的值是错误值。 你可能要花很久时间才能查出原因。 这样的错误在
C语言中不会发生（ 除非你很不明智地声明了两个极其相似的变量） ， 因为
编译器在发现未声明的 RADIUS 时会报错。


2. 哪一版要求变量声明必须在最前头？哪一版移除了这个设定？
3. `#include <stdio.h>` 的意义是什么？为什么不把这个库设置为内置语言中？
4. 如何提高程序可读性？答案见2.4
5. 请问一下代码你能找到几处错误？
```
/* nogood.c -- 有错误的程序 */
#include <stdio.h>
int main(void)
( int
n, int n2, int n3;
/* 该程序有多处错误
n = 5;
n2 = n * n;
n3 = n2 * n2;
printf("n = %d, n squared = %d, n cubed = %d\n", n,
n2, n3)
return 0;
)
```

6. 请列举ISO C中的10个关键描述符和保留标识符？参见2.8

7. 一个无参无返回值的函数原型如何声明？
8. 编写一个程序， 打印你的姓名和地址。

9. 编写一个程序把你的年龄转换成天数， 并显示这两个值。 这里不用考
   虑闰年的问题。

10. 编写一个程序， 生成以下输出：
    For he's a jolly good fellow!
    For he's a jolly good fellow!
    For he's a jolly good fellow!
    Which nobody can deny!
    除了 main()函数以外， 该程序还要调用两个自定义函数： 一个名为
    jolly()， 用于打印前 3 条消息， 调用一次打印一条； 另一个函数名为
    deny()， 打印最后一条消息。





---

1.#include指令和头文件
#include<stdio.h>
这是程序的第1行。 #include <stdio.h>的作用相当于把stdio.h文件中的所
有内容都输入该行所在的位置。 实际上， 这是一种“拷贝-粘贴”的操作。
71

---

注意 为何不内置输入和输出
读者一定很好奇， 为何不把输入和输出这些基本功能内置在语言中。 原
因之一是， 并非所有的程序都会用到I/O（ 输入/输出） 包。 轻装上阵表现了
C语言的哲学。 正是这种经济使用资源的原则， 使得C语言成为流行的嵌入
式编程语言（ 例如， 编写控制汽车自动燃油系统或蓝光播放机芯片的代
码） 。 #include中的#符号表明， C预处理器在编译器接手之前处理这条指
令。 本书后面章节中会介绍更多预处理器指令的示例， 第16章将更详细地讨
论相关内容

---

通常， 函数名后面的圆括号中包含一些传入函数的信息。 该例中没有传
递任何信息。 因此， 圆括号内是单词void（ 第11章将介绍把信息从main()函
数传回操作系统的另一种形式） 。
如果浏览旧式的C代码， 会发现程序以如下形式开始：
main()
C90标准勉强接受这种形式， 但是C99和C11标准不允许这样写。 因此，
即使你使用的编译器允许， 也不要这样写。
你还会看到下面这种形式：
void main()
一些编译器允许这样写， 但是所有的标准都未认可这种写法。 因此， 编
译器不必接受这种形式， 而且许多编译器都不能这样写。 需要强调的是， 只
要坚持使用标准形式， 把程序从一个编译器移至另一个编译器时就不会出什
么问题。

---

以前的C语言， 还要求把变量声明在块的顶部， 其他语句不能在任何声明的前面。 也就是说， main()函数体如下所示：
int main() //旧规则
{ int
doors;
int dogs;
doors = 5;
dogs = 3;
// 其他语句
}

 C99和C11遵循C++的惯例， 可以把声明放在块中的任何位置。 尽管如此， 首次使用变量之前一定要先声明它。 因此， 如果编译器支持这一新特性， 可以这样编写上面的代码：
int main() // 目前的C规则
{ //
一些语句
int doors;
doors = 5; // 第1次使用doors
// 其他语句
int dogs;
dogs = 3; // 第1次使用dogs
77
// 其他语句
} 

为了与旧系统更好地兼容， 本书沿用最初的规则（ 即， 把变量声明都写
在块的顶部） 。

---



