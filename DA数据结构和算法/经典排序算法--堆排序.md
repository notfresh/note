
- 什么是堆排序?  
虽然物理上是数组(必须是数组, 因为要用到下标, 我突然想到一个办法, 其实链表也可以, 但是链表要建立一个地址和下标的映射关系), 但是逻辑上是树.   
而且是完全二叉树.  
下标从1开始, 下标N 的子结点 2N是左结点, 2N+1 是右结点.  
父结点比子结点值恒大或者恒小.    

- 如何建堆?（自下而上选秀）  
  以大根堆建堆为例:  

  1. 从最后一个父节点开始, 从最后一棵有子结点的树开始，到第根结点结束. 第 2-5 步是每一个子树的调整过程.   

     > （可以理解为从最底层的一棵树开始）

  2. 根据选择的结点，比较左右子结点，选取值最大的子结点, 然后检测该结点的值是否比子结点小, 如果否, 说明这棵结点代表的书本身就是大根树, 符合大根堆的定义，可以进行前一棵树的调整，一直向根结点靠近。
     如果是, 把那个子结点的值换上来, 然后对被调整的子结点进行向下调整。

  3. 把根结点放到合适的位置.  

- 如何进行堆排序?  
  1. 先建堆  
  2. 每次把堆顶元素和待排序的那个元素交换, 末尾已经是有序区域, 而无序区域则逐步缩小.  
  3. 交换后, 特定范围的堆又需要重新从最顶上向下调整. 注意, 不是重新建堆, 而是从最上面调整一次, 因为已经是除顶以外都有序了.  
  4. 直到全部有序. 堆的范围缩小为 0. 
  


- 实战  
搜索引擎的 10 大热搜关键词是怎么找出来的?  
假定有 10 亿次搜索关键词.   
从而引入了堆.  

- 堆的应用  
  - 合并有序小文件  
  在一个排序数组中, 使用堆, 小顶堆来输出最小数字.  
  - 高性能定时器  
  相较于传统全队列扫描, 使用小顶堆, 把最先执行的挂到最前面.  
  每次取出任务, 或者新加入任务的时候, 都会重新建堆.  







